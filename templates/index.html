<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <title>TikTok SmartCut Editor</title>
    <link rel="stylesheet" href="/static/css/style.css" />
</head>

<body>
    <div class="container">

        <h1 class="title">TikTok SmartCut Editor</h1>
        <p class="subtitle">End-to-end hotel/travel TikTok generator</p>

        <!-- STEP 1: UPLOAD -->
        <div class="card">
            <h2>Step 1 — Upload Videos</h2>
            <input type="file" id="uploadInput" multiple />
            <button id="uploadBtn">Upload to S3</button>
            <div id="uploadStatus" class="status-box"></div>
        </div>

        <!-- STEP 2: ANALYZE -->
        <div class="card">
            <h2>Step 2 — Analyze Clips (LLM)</h2>

            <button id="startAnalyzeBtn" class="primary">Start Analysis</button>
            <button id="runStepBtn">Run Next Step</button>

            <div id="analyzeStatus" class="status-box"></div>

            <h3>Current Analyses Cache</h3>
            <pre id="analysisCache"></pre>
        </div>

        <!-- STEP 3: YAML -->
        <div class="card">
            <h2>Step 3 — Build YAML Storyboard</h2>
            <button id="generateYamlBtn" class="primary">Generate YAML</button>

            <h3>YAML Config</h3>
            <textarea id="yamlText" class="code-box"></textarea>
            <button id="saveYamlBtn">Save YAML</button>
        </div>

        <!-- STEP 4: CAPTIONS -->
        <div class="card">
            <h2>Step 4 — Edit Captions</h2>
            <textarea id="captionsInput" class="code-box"></textarea>
            <button id="saveCaptionsBtn">Save Captions</button>
        </div>

        <!-- STEP 5: SETTINGS -->
        <div class="card">
            <h2>Step 5 — Rendering Settings</h2>

            <div class="setting-row">
                <label>Export Mode</label>
                <select id="exportMode">
                    <option value="standard">Standard</option>
                    <option value="optimized">Optimized</option>
                </select>
            </div>

            <div class="setting-row">
                <label>Enable TTS</label>
                <input type="checkbox" id="ttsEnabled" />
                <select id="ttsVoice">
                    <option value="alloy">Alloy</option>
                    <option value="verse">Verse</option>
                    <option value="nova">Nova</option>
                </select>
                <button id="saveTTSBtn">Save TTS</button>
            </div>

            <div class="setting-row">
                <label>CTA Text</label>
                <input type="text" id="ctaText" placeholder="Book with my link →" />
                <input type="checkbox" id="ctaEnabled" />
                <label class="small">Voiceover</label>
                <input type="checkbox" id="ctaVoiceover" />
                <button id="saveCTABtn">Save CTA</button>
            </div>

            <div class="setting-row">
                <label>Overlay Style</label>
                <select id="overlayStyle">
                    <option value="travel_blog">Travel Blog</option>
                    <option value="punchy">Punchy</option>
                    <option value="cinematic">Cinematic</option>
                    <option value="descriptive">Descriptive</option>
                    <option value="influencer">Influencer</option>
                </select>
                <button id="applyOverlayBtn">Apply Overlay</button>
            </div>

            <div class="setting-row">
                <label>Smart Timings</label>
                <button id="standardTimingBtn">Standard</button>
                <button id="cinematicTimingBtn">Cinematic</button>
            </div>

            <div class="setting-row">
                <label>Foreground Scale</label>
                <input type="number" id="fgScale" value="1.0" step="0.1" />
                <button id="saveFGScaleBtn">Save FG Scale</button>
            </div>
        </div>

        <!-- STEP 6: EXPORT -->
        <div class="card">
            <h2>Step 6 — Render Final TikTok</h2>
            <button id="exportBtn" class="primary">Export</button>
            <div id="exportStatus" class="status-box"></div>
            <div id="downloadLink"></div>
        </div>

        <!-- CHAT -->
        <div class="card">
            <h2>Creative Chat Assistant</h2>
            <textarea id="chatInput" placeholder="Ask for hooks, captions, CTAs…"></textarea>
            <button id="chatBtn">Ask</button>
            <pre id="chatReply"></pre>
        </div>

        <!-- LIVE LOG -->
        <div class="card">
            <h2>Live Status Log</h2>
            <pre id="liveLog"></pre>
        </div>

    </div>

    <script src="/static/js/app.js"></script>
</body>
</html>
